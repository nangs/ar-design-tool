<nav class="navbar navbar-default" style="margin:0">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="" ng-click="editorService.closeEditor()"><i class="fa fa-angle-left fa-lg" style="padding-right: 10px"></i>Project Name - StateName</a>
    </div>
    <ul class="nav navbar-nav navbar-right">
      <li class="dropdown">
        <a href="" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Preview <i class="fa fa-angle-down"></i></a>
        <ul class="dropdown-menu" role="menu">
          <li><a href="">Start Previewing</a></li>
        </ul>
      </li>        
    </ul>
  </div>
</nav>    
<div class="content">
  <nav class="navbar navbar-inverse">
    <ul class="nav navbar-nav">
      <li><a href="" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Selection Cursor"><i class="fa fa-mouse-pointer"></i></a></li>
      <li><a href="" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Translation Cursor" ng-click="unityMapperService.setTransformMode('translate')"><i class="fa fa-arrows"></i></a></li>
      <li><a href="" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Rotation Cursor" ng-click="unityMapperService.setTransformMode('rotate')"><i class="fa fa-repeat"></i></a></li>
      <li><a href="" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Scale Cursor" ng-click="unityMapperService.setTransformMode('scale')"><i class="fa fa-arrows-alt"></i></a></li>
    </ul>
  </nav>
  <unity-editor></unity-editor>
</div>
<sidebar-editor></sidebar-editor>

<bs-modal modal-id="add-asset" modal-size="md">
  <modal-body>
    <h5>Browse Assets</h5>
    <div class="row">
      <div ng-repeat="model in modelsOnServer" class="col-xs-3">
        <div class="frame">
          <div class="thumbnail">
            <img src="/resources/images/open_book.png" placeholder="some image" />
          </div>
          <div class="caption">
            <p>{{model.name}}</p>
          </div>
        </div>
      </div>
    </div>
  </modal-body>
  <modal-footer>
    <a href="#" data-dismiss="modal" aria-hidden="true" class="btn secondary">Close</a>
  </modal-footer>
</bs-modal>

<script type="text/javascript">      
  var Module = {
    TOTAL_MEMORY: 268435456,
    errorhandler: null,
    compatibilitycheck: null,
    dataUrl: "/resources/webgl/Release/webgl.data",
    codeUrl: "/resources/webgl/Release/webgl.js",
    memUrl: "/resources/webgl/Release/webgl.mem",
  };
  
  var downloadUserStuff = function(assetBundleName, stateName) {
    assetBundleName = assetBundleName || '/assetbundles/webglbundles.unity3d';
    stateName = stateName || '/state.dat';
    var combinedName = assetBundleName + ":" + stateName;
    SendMessage ("Facade", 'DownLoadUserStuff', combinedName);
  }
  
  var makeProject = function(stateModels) {
    var el = $('[ng-app=vumixEditorApp]')[0];
    angular.element(el).injector().get('stateService').addStateModel(JSON.parse(stateModels));
  }
  
  var globalFunc = {
    unityHasLoaded: function() {
      downloadUserStuff();
    }
  };
</script>    